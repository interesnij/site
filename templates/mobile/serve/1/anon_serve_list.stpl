<% let (__title, __level, __p) = match linguage {
        2 => ("List of options", tech_category.get_level_en(), "$"), 
        1 | _ => ("Список опций", tech_category.get_level_ru(), "₽"),
    };
%>

<div class="container align-center">
  <h1 class="font-alt"><%= __title %></h1>
</div>
<div class="container relative">
  <% for (i, tech_category) in tech_cats.iter().enumerate() { %>
  <% let __name = match linguage {
        2 => tech_category.name_en, 
        1 | _ => tech_category.name,
    };
  %>
  <h4>
    <a style="padding:5px" class="ajax underline" href="/tech_categories/<%= tech_category.id %>/">
      <%= __name %> (<%= __level %>)
    </a>
  </h4>

  <% for category in tech_category.get_serve_categories().iter() { %>
  <% let __sname = match linguage {
        2 => category.name_en, 
        1 | _ => category.name,
    };
  %>
  <div>
    <h5> 
      <a class="ajax" href="/serve_categories/<%= category.id %>/">
        <%= __sname %>
      </a>
    </h5>
    <table class="table">
      <tbody>
        <% for object in category.get_serves(linguage).iter() { %>
          <tr>
            <td style="width:40%">
              <a class="pointer underline get_object_info" data-pk="<%= object.id %>" data-type="serve" owner-pk="<%= category.id %>" owner-type="settings">
                <% if object.is_default { %>(*) <% } %>
                <%= __sname %> => <%= object.name %> (<%= object.id %>)
              </a>
            </td>
            <td style="width:14%"><%= object.price %> <%= __p %></td>
            <td style="width:12%"><%= object.man_hours %> ⌛</td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
  <% } %>

  <% if i != 0 { %>
    <hr class="mt-0 mb-0 " />
  <% } %>

  <% } %>
</div>
